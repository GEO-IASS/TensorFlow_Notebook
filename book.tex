\documentclass[a4paper,12pt]{book}
\usepackage[space]{ctex}
\usepackage{amsmath}
\usepackage{times}
\usepackage{titlesec}
\usepackage{titlesec}
\graphicspath{{./pic/chapter1/}{./pic/chapter2/}{./pic/chapter3/}}
\usepackage{graphicx}
\usepackage{float}
\usepackage{pythonhighlight}
\usepackage{caption}
\usepackage{subfigure}
\titleformat
{\chapter} % command
[display] % shape
{\bfseries\Large\itshape} % format
{Tensorflow No. \ \thechapter} % label
{0.5ex} % sep
{\rule{\textwidth}{1pt}
\vspace{1ex}
\centering
}
[\vspace{-0.5ex}%
\rule{\textwidth}{0.3pt}
] % after-code
\begin{document}
\date{\today}
\tableofcontents
\newpage
\include{./chapter1/tf_chapter1}
\include{./chapter2/tf_chapter2}
\include{./chapter2/use_gpu}
\include{./chapter3/common_module}
\include{./chapter4/tf_common}
\include{./chapter4/tf_image}
\end{document}
